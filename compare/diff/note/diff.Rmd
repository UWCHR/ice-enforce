---
title: "Compare installments"
output: html_notebook
---

```{r}

library(pacman)
p_load(tidyverse, here, ggplot2)

install1 <- read_delim(here('compare', 'diff', 'input', 'enforcement-fy16-19.csv.gz'), delim='|')
install2 <- read_delim(here('compare', 'diff', 'input', 'enforcement-fy12-23.csv.gz'), delim='|')

df <- inner_join(install1, install2, by=c('aor', 'date', 'fy', 'quarter'))

df$diff_enc <- df$n_encounters.x - df$n_encounters.y
df$diff_arr <- df$n_arrests.x - df$n_arrests.y
df$diff_rem <- df$n_removals.x - df$n_removals.y

plot(df$date, df$diff_enc)

plot(df$date, df$diff_arr)

plot(df$diff_rem)

```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Cmd+Option+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Cmd+Shift+K* to preview the HTML file). 

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.

